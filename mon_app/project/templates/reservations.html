{% extends "base.html" %}

{% block content %}
<div class="container has-text-centered">
<h1 class="title is-2 title-reservations title-reservations">Suivi des réservations mensuelles</h1>
<section>
  <div class="table-container">
    <table class="table is-hoverable">
      <thead>
        <tr>
          <th>id</th>
          <th>lead time</th>
          <th>arrival date year</th>
          <th>arrival date week number</th>
          <th>arrival date day_of month</th>
          <th>stays in weekend nights</th>
          <th>stays in week nights</th>
          <th class="rotate">adults</th>
          <th class="rotate">children</th>
          <th class="rotate">babies</th>
          <th>is repeated guest</th>
          <th>previous cancel- lations</th>
          <th>previous bookings not canceled</th>
          <th>booking changes</th>
          <th class="rotate">agent</th>
          <th class="rotate">company</th>
          <th>days in waiting list</th>
          <th>adr</th>
          <th>required car parking spaces</th>
          <th>total of special requests</th>
          <th>Prédiction</th>
        </tr>
      </thead>
      <tbody>
        {% for item in clients_test %}
        {% set item_data = '{"id":"' ~ item.id ~ '","lead_time":"' ~ item.lead_time ~ '","arrival_date_year":"' ~ item.arrival_date_year ~ '","arrival_date_week_number":"' ~item.arrival_date_week_number~ '","arrival_date_day_of_month":"' ~item.arrival_date_day_of_month~ '","stays_in_weekend_nights":"' ~item.stays_in_weekend_nights~ '","stays_in_week_nights":"' ~item.stays_in_week_nights~ '","adults":"' ~item.adults~ '","children":"' ~item.children|int~ '","babies":"' ~item.babies~ '","is_repeated_guest":"' ~item.is_repeated_guest~ '","previous_cancellations":"' ~item.previous_cancellations~ '","previous_bookings_not_canceled":"' ~item.previous_bookings_not_canceled~ '","booking_changes":"' ~item.booking_changes~ '","agent":"' ~item.agent|int~ '","company":"' ~item.company|int~ '","days_in_waiting_list":"' ~item.days_in_waiting_list~ '","adr":"' ~item.adr~ '","required_car_parking_spaces":"' ~item.required_car_parking_spaces~ '","total_of_special_requests":"' ~item.total_of_special_requests~ '"}' %}
        <tr class="item" data-item={{item_data}}>
          <td>
            {{item.id}}
          </td>
          <td>
            {{item.lead_time}}
          </td>
          <td>
            {{item.arrival_date_year}}
          </td>
          <td>
            {{item.arrival_date_week_number}}
          </td>
          <td>
            {{item.arrival_date_day_of_month}}
          </td>
          <td>
            {{item.stays_in_weekend_nights}}
          </td>
          <td>
            {{item.stays_in_week_nights}}
          </td>
          <td>
            {{item.adults}}
          </td>
          <td>
            {{item.children|int}}
          </td>
          <td>
            {{item.babies}}
          </td>
          <td>
            {{item.is_repeated_guest}}
          </td>
          <td>
            {{item.previous_cancellations}}
          </td>
          <td>
            {{item.previous_bookings_not_canceled}}
          </td>
          <td>
            {{item.booking_changes}}
          </td>
          <td>
            {{item.agent|int}}
          </td>
          <td>
            {{item.company|int}}
          </td>
          <td>
            {{item.days_in_waiting_list}}
          </td>
          <td>
            {{item.adr}}
          </td>
          <td>
            {{item.required_car_parking_spaces}}
          </td>
          <td>
            {{item.total_of_special_requests}}
          </td>
          <td>
              <a href="{{url_for('main.predictions')}}">
                <button class="button is-link is-small">Prédiction</button>
              </a>
          </td>
        </tr>
        {% endfor %}
    </tbody>
    </table>
  </div>
</section>
</div>

<script src="{{ url_for('static', filename="js/prediction.js") }}"></script>

{% endblock %}